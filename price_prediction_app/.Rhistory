# con <- dbConnect(RSQLite::SQLite(), "00_data/bikes_database.db")
# dbListTables(con)
bikes_tbl <- tbl(con, "bikes") %>% collect()
# 1.0 Libraries ----
# App
library(flexdashboard)
library(shiny)
library(shinyjs)
library(shinyWidgets)
#library(rsconnect)
# Core
library(tidyverse)
library(tidyquant)
# fs is used to work with the file system
library(fs)
# Visualizations
library(plotly)
# Modeling
library(parsnip)
library(xgboost)
# Database
library(odbc)
library(RSQLite)
# 2.0 Data ----
con <- dbConnect(RSQLite::SQLite(), "data/bikes_database.db")
# con <- dbConnect(RSQLite::SQLite(), "00_data/bikes_database.db")
# dbListTables(con)
bikes_tbl <- tbl(con, "bikes") %>% collect()
dbDisconnect(con)
# Scripts
source("scripts/02_process_data.R")
source("scripts/03_make_predictions.R")
source("scripts/plot_bike_prediction_cannondale.R")
# Model
model_xgboost <- read_rds("models/model_xgboost.rds")
useShinyjs(rmd = TRUE)
# Bike Model Input ----
textInput(inputId = "text_bike_model", label = h4("Bike Model"), value = "Jekyll Al 1 Black Inc.")
# Bike Family (Category 2) ----
category_hierachy_tbl <- bikes_tbl %>%
separate_bike_description(keep_description_column = TRUE, append = FALSE) %>%
distinct(category_1, category_2)
pickerInput(inputId  = "picker_category_2",
label    = h4("Bike Family"),
choices  = category_hierachy_tbl$category_2,
options = list(container = "body"),
selected = "Over Mountain")
# Bike Type (Category 1) ----
h4("Bike Type")
bike_type <- reactive({
category_hierachy_tbl %>%
filter(category_2 == input$picker_category_2) %>%
pull(category_1)
})
output$bike_type <- renderText(bike_type())
output$bike_type <- renderText(bike_type())
View(bikes_tbl)
View(category_hierachy_tbl)
View(category_hierachy_tbl)
View(category_hierachy_tbl)
textOutput(outputId = "bike_type") %>% em() %>% strong()
View(model_xgboost)
View(model_xgboost)
